---
paths:
  - reference/**
---

# Reference 文件夹规则 — 灵感素材处理

## 文件夹性质

`reference/` 是用户的灵感仓库，存放原始设计草稿。这些素材往往是碎片化的、不完整的、甚至自相矛盾的——这是正常现象。

## 严格约束

- **只读**：不允许创建、修改、删除 `reference/` 下的任何文件
- **非权威**：文件内容仅供参考，并非全部设定，用户可能有文件中未体现的想法
- **不做假设**：描述模糊处必须询问用户，不要自行脑补后直接写入定稿

## 阅读素材时的工作步骤

### 第一步：通读与归类
- 阅读 reference 下的全部相关文件
- 识别素材属于哪个设定类别（人物/世界观/事件/势力/物品/关系）
- 如果单个文件涉及多个类别，拆分记录

### 第二步：提取已有信息
将素材中明确给出的设定逐项提取，按类别整理。例如：
- ✅ 已确定：角色名叫李沧海，男性，30岁
- ⚠️ 模糊：提到"曾在北方生活"，但未说明具体地点和时长
- ❌ 缺失：未提及外貌、穿衣风格

### 第三步：识别需要补全的内容
对照全局规则中的质量标准，逐项检查缺失和模糊之处。按优先级分类：

| 优先级 | 说明 | 处理方式 |
|--------|------|---------|
| P0-关键 | 缺失此项会导致角色/设定无法成立 | 必须立即询问用户 |
| P1-重要 | 缺失此项会影响设定的丰富度 | 本轮对话中询问 |
| P2-锦上添花 | 补充后会让设定更出彩 | 主动提供选项，询问用户是否需要 |

### 第四步：与用户确认
- 每轮聚焦 2-3 个待确认项，避免信息过载
- 对于模糊描述，复述你的理解并请用户确认
- 对于缺失项，提供 2-3 个方向性选项让用户选择
- 对于你觉得可以锦上添花的部分，简要说明补充理由

## 冲突处理

当发现 reference 中的不同文件存在设定冲突时：
1. 明确指出冲突点及对应的文件来源
2. 列出可能的解决方案
3. 由用户裁定最终采用哪个版本

## 交叉引用

当处理某一素材时，主动检查 reference 中是否有相关联的其他素材。例如：
- 处理人物时，检查是否有该人物参与的事件
- 处理事件时，检查涉及的人物是否已有设定
- 处理世界观时，检查是否有在该背景下活动的角色

将关联信息一并呈现给用户，以确保设定之间的衔接。